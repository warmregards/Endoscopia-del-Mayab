@import "tailwindcss";
@import "tw-animate-css";

/* class-based dark + media fallback */
@custom-variant dark (&:is(.dark *));
:root { color-scheme: light dark; }

/* ─────────────────────────────
   LIGHT THEME TOKENS (HSL numbers) - Clean & Medical
   Brand: Navy #1D3882  → hsl(224 64% 31%)
   Accent (Light Aqua): #28BDBD → hsl(180 65% 45%)  → use DARK text
   Accent (Strong Teal): #17806D → hsl(169 70% 30%) → use WHITE text
   ───────────────────────────── */
:root {
  /* Core brand - Brighter and more vibrant */
  --primary: 224 76% 40%;           /* Brighter, more vibrant blue #2563EB */
  --primary-foreground: 0 0% 100%;

  /* Back to the better green - no teal */
  --accent-light: 169 80% 35%;      /* The original vibrant teal-green that looked good */
  --accent-light-foreground: 0 0% 100%; /* White text */
  --accent-strong: 169 80% 35%;     /* Same green for consistency */
  --accent-strong-foreground: 0 0% 100%;

  /* Clean light neutrals */
  --background: 0 0% 100%;          /* Pure white */
  --foreground: 222 84% 4.9%;       /* Almost black */
  --muted: 220 14% 96%;             /* Subtle gray #F8FAFC */
  --muted-foreground: 215 16% 46%;  /* Medium gray */
  --border: 220 13% 91%;            /* Light border #E2E8F0 */
  --input: 220 13% 91%;

  /* Enhanced link colors */
  --link: var(--primary);
  --link-foreground: 0 0% 100%;

  /* Semantics */
  --destructive: 0 84% 60%;
  --destructive-foreground: 0 0% 100%;

  /* Simplified charts */
  --chart-1: 169 80% 35%;           /* Green */
  --chart-2: 224 76% 40%;           /* Blue */
  --chart-3: 0 72% 51%;             /* Red */
  --chart-4: 38 92% 56%;            /* Orange */
  --chart-5: 215 19% 35%;           /* Gray */

  /* Clean sidebar */
  --sidebar: 0 0% 100%;
  --sidebar-foreground: 222 84% 4.9%;
  --sidebar-primary: 224 76% 40%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 169 80% 35%;
  --sidebar-accent-foreground: 0 0% 100%;
  --sidebar-border: 220 13% 91%;
  --sidebar-ring: 38 92% 56%;
  --sidebar-muted: 220 14% 96%;
  --sidebar-active: 169 80% 35%;

  /* Clean shadows - no green tint */
  --radius: 0.5rem;
  --radius-interactive: 0.625rem;
  --shadow-1: 0 1px 3px hsl(0 0% 0% / 0.08);
  --shadow-2: 0 4px 12px hsl(0 0% 0% / 0.12);
  --shadow-3: 0 8px 32px hsl(0 0% 0% / 0.16);

  /* Focus ring */
  --ring: 224 76% 40%;

  /* Footer - professional slate */
  --footer: 215 28% 17%;            /* Dark slate #1E293B */
  --footer-foreground: 210 40% 98%; /* Light text */
}

/* Dark mode - Only when explicitly .dark class is applied */
.dark {
  color-scheme: dark;
  
  --background: 222 47% 11%;      /* #0F172A - Dark slate */
  --foreground: 210 40% 98%;      /* Light text */

  /* Brighter primary for affordance on dark */
  --primary: 224 64% 50%;         /* Brighter navy for dark mode */
  --primary-foreground: 0 0% 100%;

  /* Accents adjusted for dark mode */
  --accent-light: 180 65% 55%;    /* Slightly brighter aqua */
  --accent-light-foreground: 222 47% 11%; /* Still dark text on aqua */
  --accent-strong: 169 70% 35%;   /* Slightly brighter teal */
  --accent-strong-foreground: 0 0% 100%;

  /* Dark mode neutrals */
  --muted: 215 25% 20%;           /* Dark gray */
  --muted-foreground: 215 20% 72%; /* Light gray for secondary text */
  --border: 215 25% 23%;          /* Subtle borders */
  --input: 215 25% 18%;           /* Input backgrounds */

  /* Dark mode links */
  --link: 224 80% 65%;            /* Brighter blue for contrast */
  --link-foreground: 0 0% 0%;

  --ring: 38 92% 56%;             /* Keep bright focus ring */

  --chart-1: 224 64% 55%;
  --chart-2: 188 85% 55%;
  --chart-3: 0 72% 60%;
  --chart-4: 38 92% 60%;
  --chart-5: 215 20% 75%;

  /* Dark sidebar */
  --sidebar: 215 25% 15%;
  --sidebar-foreground: 210 40% 96%;
  --sidebar-primary: 224 64% 50%;
  --sidebar-primary-foreground: 0 0% 100%;
  --sidebar-accent: 180 65% 55%;
  --sidebar-accent-foreground: 222 47% 11%;
  --sidebar-border: 215 25% 20%;
  --sidebar-ring: 38 92% 56%;
  --sidebar-muted: 215 25% 18%;
  --sidebar-active: 169 70% 40%;
}

/* ── Tailwind theme mapping (uses hsl(var(--token))) ── */
@theme inline {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  
  --color-link: hsl(var(--link));
  --color-link-foreground: hsl(var(--link-foreground));

  --color-accent-light: hsl(var(--accent-light));
  --color-accent-light-foreground: hsl(var(--accent-light-foreground));

  --color-accent-strong: hsl(var(--accent-strong));
  --color-accent-strong-foreground: hsl(var(--accent-strong-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-chart-1: hsl(var(--chart-1));
  --color-chart-2: hsl(var(--chart-2));
  --color-chart-3: hsl(var(--chart-3));
  --color-chart-4: hsl(var(--chart-4));
  --color-chart-5: hsl(var(--chart-5));

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-interactive: var(--radius-interactive);

  --color-sidebar: hsl(var(--sidebar));
  --color-sidebar-foreground: hsl(var(--sidebar-foreground));
  --color-sidebar-primary: hsl(var(--sidebar-primary));
  --color-sidebar-primary-foreground: hsl(var(--sidebar-primary-foreground));
  --color-sidebar-accent: hsl(var(--sidebar-accent));
  --color-sidebar-accent-foreground: hsl(var(--sidebar-accent-foreground));
  --color-sidebar-border: hsl(var(--sidebar-border));
  --color-sidebar-ring: hsl(var(--sidebar-ring));
  --color-sidebar-muted: hsl(var(--sidebar-muted));
  --color-sidebar-active: hsl(var(--sidebar-active));

  /* Footer */
  --color-footer: hsl(var(--footer));
  --color-footer-foreground: hsl(var(--footer-foreground));

  /* Fonts */
  --font-sans: "Inter", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  --font-serif: "Montserrat", ui-serif, Georgia, serif;
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Monaco, Consolas, "Liberation Mono", "Courier New";
}

/* ── Base layer / a11y polish ── */
@layer base {
  * { @apply border-border; }

  html, body { height: 100%; }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    text-rendering: optimizeLegibility;
  }

  /* Accessible focus (no global outline on everything) */
  :focus-visible {
    outline: none;
    box-shadow:
      0 0 0 2px hsl(var(--background)),
      0 0 0 4px hsl(var(--ring) / 0.6);
    border-radius: var(--radius-interactive);
  }

  /* Headings */
  h1 { @apply font-serif font-extrabold leading-tight tracking-tight; }
  h2 { @apply font-serif font-bold leading-snug; }
  h3 { @apply font-serif font-semibold leading-snug; }
  h4,h5,h6 { @apply font-serif font-semibold; }

  /* Elevation helpers */
  .card    { box-shadow: var(--shadow-1); border-radius: var(--radius-lg); }
  .popover { box-shadow: var(--shadow-2); border-radius: var(--radius-lg); }
  .elevated{ box-shadow: var(--shadow-3); }

  /* Selection color */
  ::selection {
    background: hsl(var(--primary) / 0.18);
    color: hsl(var(--foreground));
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
  }
}
